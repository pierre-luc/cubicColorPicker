!function(){function A(A){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",A);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var e=document.createElement("textarea");e.textContent=A,e.style.position="fixed",document.body.appendChild(e),e.select();try{return document.execCommand("copy")}catch(t){return console.warn("Copy to clipboard failed.",t),!1}finally{document.body.removeChild(e)}}}function e(A){return A=A.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),A&&4===A.length?"#"+("0"+parseInt(A[1],10).toString(16)).slice(-2)+("0"+parseInt(A[2],10).toString(16)).slice(-2)+("0"+parseInt(A[3],10).toString(16)).slice(-2):""}function t(A){var e=document.createElement("div");return e.setAttribute("class",A),e}function o(A){var e=t("cube");e.appendChild(t("front")),e.appendChild(t("back")),e.appendChild(t("top")),e.appendChild(t("bottom")),e.appendChild(t("left")),e.appendChild(t("right")),A.setAttribute("class",("wrap "+A.getAttribute("class")).trim()),A.appendChild(t("color")),A.appendChild(e)}var i=function(A,e){function t(A){return"M"+A[0].x+" "+A[0].y+" Q "+A[1].x+" "+A[1].y+" "+A[2].x+" "+A[2].y}function o(){var A=Math.abs(this.y/i.bezier[2].x);i.percent=A,n.progress(A),parseInt(this.y)!=parseInt(i.value)&&$(i).trigger("valueHasChanged"),i.value=this.y}var i=this;if(this.element=A,this.bezier=[{x:10,y:80},{x:150,y:0},{x:300,y:80}],this.value=0,this.percent=0,this.colors={knob:"#88CE02",guide:"gray",line:"#7CFC00",min:"orange"},"object"==typeof e&&("object"==typeof e.bezier&&3==e.bezier.length&&"number"==typeof e.bezier[0].x&&"number"==typeof e.bezier[1].x&&"number"==typeof e.bezier[2].x&&"number"==typeof e.bezier[0].y&&"number"==typeof e.bezier[1].y&&"number"==typeof e.bezier[2].y&&(this.bezier=e.bezier),"object"==typeof e.colors))for(var I in this.colors)e.colors[I]&&(this.colors[I]=e.colors[I]);this.pathStr=t(this.bezier);var s=document.createElement("div"),r=document.createElement("svg");r.setAttribute("width","320px"),r.setAttribute("height","150px"),r.setAttribute("version","1.1"),r.setAttribute("xmlns","http://www.w3.org/2000/svg"),A.appendChild(r);var E="http://www.w3.org/2000/svg",r=document.createElementNS(E,"svg");this.path1=document.createElementNS(E,"path"),this.path1.setAttributeNS(null,"d",this.pathStr),this.path1.setAttributeNS(null,"stroke",this.colors.guide),this.path1.setAttributeNS(null,"stroke-dasharray","5,5"),this.path1.setAttributeNS(null,"fill","transparent"),this.path2=document.createElementNS(E,"path"),this.path2.setAttributeNS(null,"d",this.pathStr),this.path2.setAttributeNS(null,"stroke-width","7"),this.path2.setAttributeNS(null,"stroke",this.colors.line),this.path2.setAttributeNS(null,"fill","transparent"),this.path2.setAttributeNS(null,"stroke-linecap","round"),this.knob=document.createElementNS(E,"circle"),this.knob.setAttributeNS(null,"class","knob"),this.knob.setAttributeNS(null,"r","25"),this.knob.setAttributeNS(null,"fill",this.colors.knob),this.knob.setAttributeNS(null,"stroke-width","4"),this.knob.setAttributeNS(null,"stroke","#fff"),r.appendChild(this.path1),r.appendChild(this.path2),r.appendChild(this.knob),A.appendChild(r),$(r).css("overflow","visible"),$(A).css("overflow","visible"),TweenMax.set("svg",{overflow:"visible"}),TweenMax.set(this.knob,{x:this.bezier[0].x,y:this.bezier[0].y});var n=new TimelineMax({paused:!0}).from(this.path2,1,{drawSVG:"0%",stroke:this.colors.min,ease:Linear.easeNone}).to(this.knob,1,{bezier:{type:"quadratic",values:this.bezier},ease:Linear.easeNone},0);Draggable.create(s,{trigger:this.knob,type:"y",throwProps:!0,bounds:{minY:0,maxY:i.bezier[2].x},onDrag:o,onThrowUpdate:o}),TweenMax.to(this.path1,.5,{strokeDashoffset:-10,repeat:-1,ease:Linear.easeNone})};i.prototype.changeKnobColor=function(A){this.colors.knob=A,this.knob.setAttributeNS(null,"fill",this.colors.knob)},i.prototype.changeLineColor=function(A){this.colors.line=A,this.path2.setAttributeNS(null,"stroke",this.colors.line)};var I=new Image;I.src="data:image/  png;base64,iVBORw0KGgoAAAANSUhEUgAABCwAAAMACAIAAABguWEEAAAVT0lEQVR4XuzXsWqjQRCEwf2h3/+V9wJz0SUWCFqnrkKBUqOZ8X7Pvfesguc5Z/Xj43NPBwDkDIPn7xcAAEQIiBAAABECIgQAABECIgQAQISACAEAQISACAEAECEgQgAARAiIEAAARAiIEAAAEQIiBAAAEQIiBABAhIAIAQBAhIAIAQAQISBCAABECIgQAABECIgQAAARAiIEAAARAiIEAECEgAgBAECEIEIAABAhIELgqwFAzix4MUIAABAhIEIAAEQIiBAAAEQIiBAAABECIgQAQISACAEAQISACAEAECEgQgAAECEgQgAARAiIEAAARAiIEAAAEQIiBABAhIAIAQBAhIAIAQAQISBCAAAQISBCAABECIgQAABECIgQAAARAiIEAECEgAgBAHgncmbB/x4hAAAiBEQIAAAiBEQIAIAIARECACBCQIQAACBCQIQAAIgQECEAAIgQECEAACIERAgAACIERAgAgAgBEQIAIEJAhAAAIEJAhAAAiBAQIQAAiBAQIQAAIgRECAAAIgRECACACAERAgAgQkCEAAAgQkCEAACIEBAh/BYAQM4sWIgQAAARAiIEAECEgAgBAECEgAgBABAhIEIAABAhIEIAAEQIiBAAAEQIiBAAABECIgQAQISACAEAQISACAEAECEgQgAAECEgQgAARAiIEAAARAiIEAAAEQIiBABAhIAIAQBAhIAIAQAQISBCAAAQISBCAOBjQc4sKEQIAAAiBBECAIAIARECACBCQIQAACBCQIQAAIgQECEAAIgQECEAACIERAgAgAgBEQIAgAgBEQIAIEJAhAAAIEJAhAAAiBAQIQAAiBAQIQAAIgRECACACAERAgCACAERAgAgQkCEAAAgQkCEAACIEBAhAACIEDiNCAEAIGcUfGyEAACIEBAhAACIEBAhAAAiBEQIAAAiBEQIAIAIARECACBCQIQAACBCQIQAAIgQECEAAIgQECEAACIERAgAACIERAgAgAgBEQIAIEJAhAAAIEJAhAAAiBAQIQAAiBAQIQAAIgRECAAAIgRECACACAERAsAGIGcW/CZCAAAQISBCAABECIgQAABECIgQAAARAiIEAIAcECEAAIgQECEAACIERAgAACIERAgAgAgBEQIAgAgBEQIAIEJAhAAA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ADkARAgAiBAARAgAIgQAEQIAIuRfABAhACBCABAhAIgQAEQIAIgQAEQIACIEABECACIEABECgAgBQIQAIEIAECEAIEIAECEAiBAARAgAiBCAP8RzFQCQ2wGACAFAhAAgQgAQIQCIEAAQIQCIEABECAAiBABECAAiBAARAoAIAQARAoAIAUCEACBCABAhAIgQABAhAIgQAEQIACIEAEQIACIEABECgAgBgFwBACIEABECgAgBABECgAgBQIQAIEIAQIQAIEIAECEAiBCAX4LcJABECAAiBAARAoAIAUCEAIAIAUCEACBCABAhACBCABAhAIgQAEQIAORmAYgQABAhAIgQAEQIACIEAEQIACIEABECgAgBABECgAgBQIQAIEIAECEAiBAAECEAiBAARAgAIgQARAgAIgQAEQKACAEAEQKACAFAhABN8FwFAPwcIQCIEAAQIQCIEABECAAiBABECAAiBAARAoAIAQARAoAIAUCEACBCABAhAIgQABAhAIgQAEQIACIEAEQIACIEABECgAgBABECIEIAQIQAIEIAECEAiBAAECEAiBAARAgAIgQARAgAIgQAEQKACAFAhAAgQoCvB+QmASBCABAhAIgQAEQIACIEAEQIACIEABECgAgBABECgAgBQIQAIEIAIPdOABAhAIgQAEQIAIgQAEQIACIEABECACIEQIQAgAgBQIQAIEIAECEAIEIAECEAiBAARAgAiBAARAgAIgQAEQKACAFAhACACAFAhAAgQuBjAM9VAEDuAwAgQgAQIQCIEAAQIQCIEABECAAiBAARAoAIAQARAoAIAUCEACBCAECEACBCABAhAIgQABAhADwHACIEABECgAgBQIQAgAgBQIQAIEIAECEAIEIAECEAiBAARAgAIgQAEQIAIgQAEQKACAFAhACACAFAhPBmAHKTABAhAIgQAEQIACIEABECACIEABECgAgBQIQAgAgBQIQAIEIAECEAkPtiAIgQABAhAIgQAEQIACIEABECgAgBABECgAgBQIQAIEIAQIQAIEIAECEAiBAAECEAIgQARAgAIgQAEQKACAEAEQKACAFAhAAgQgBAhPwMgFqEAECuBQARAoAIAUCEAIAIAUCEACBCABAhACBCABAhAIgQAEQIAIgQAEQIACIEABECgAgBQIQAgAgBQIQAIEIAECEAIEIAECEAiBAARAgAiBAAEQIAIgQAEQKACAFAhACACAFAhAAgQgAQIQAgQgAQIQCIEABEyDIAcpsAeK4CAHKTABAhAIgQAEQIACIEABECACIEABECgAgBQIQAgAgBQIQAIEIAECEA8B2mVKtHyVbgcwAAABN0RVh0QXV0aG9yAFNoYWRvd0Nhc3RlcgauzeUAAAAASUVORK5CYII=";var s=!1;I.crossOrigin="anonymous",I.onload=function(){s=!0};var r=function(A,e,t,o){this.r=A,this.g=e,this.b=t,this.a=o,this.rgba=null,this.toRGBA()};r.prototype.toRGBA=function(){return this.rgba="rgba("+this.r+","+this.g+","+this.b+","+String(this.a).substring(0,4)+")",this.rgba},r.prototype.toHex=function(){return this.toRGBA(),e(this.rgba)};var E=function(A){this.picker=A,this.element=t("palette"),this.element.appendChild(t("hex")),this.element.appendChild(t("collection")),this.picker.appendChild(this.element),this.selectedColor=null,this.colors=new Map};E.prototype.addColor=function(A){function e(A){s.selectedColor=s.colors.get(A),$(s).trigger("colorHasChanged")}function o(A){var e=s.colors.get(A.toElement),t=1==e.a?e.toHex():e.toRGBA();$(s.element).find(".hex").html(t),$(s.element).addClass("show-value")}function i(){$(s.element).removeClass("show-value")}function I(A){e(A.toElement)}var s=this,r=t("color-item"),E=t("value");r.appendChild(E),$(E).css("background-color",A.toRGBA()),this.element.appendChild(r),$(E).on("mouseenter",o),$(E).on("mouseleave",i),$(E).on("click",I);var n=this.colors.size<12?this.colors.size:12;this.colors.set(E,A),e(E);var g=0;n>=12&&(g=1);var C=-135-(-25*(n-g)+12.5*n),Q=setInterval(function(){if(clearInterval(Q),$(r).css("transform","rotate("+C+"deg)"),n>=12){var A=$(s.element).find(".collection .color-item:first-child");A.find(".value").off("mouseenter",o),A.find(".value").off("mouseleave",i),A.find(".value").off("click",I),A.remove(),s.colors["delete"](s.colors.keys().next().value)}var e=setInterval(function(){clearInterval(e),s.element.removeChild(r),r.removeAttribute("style"),$(s.element).find(".collection").append(r),$(s.element).find(".collection").css("transform","rotate("+(225-25*(n-g)/2)+"deg)")},250)},50)};var n=new Map,g=function(A){if("undefined"!=typeof n.get(A))throw new Error("the picker is already plugged");n.set(A,this);var e=this;this.element=A,this.minimized=!1,this.palette=new E(this.element),o(A);var g=t("opacity-slider");e.opacitySlider=new i(g,{colors:{min:"transparent"}});var C=$(e.element).find(".cube");$(e.opacitySlider).on("valueHasChanged",function(){e.currentColor.a=1-this.percent,C.css("opacity",e.currentColor.a),e.rgbMode=e.currentColor.a<.98,e.update()}),A.appendChild(g),this.rotateR=22.5,this.canRotate="xr",this.seletedColor=null,$(this.palette).on("colorHasChanged",function(){e.selectedColor=e.palette.selectedColor,$(e).trigger("colorHasChanged")}),this.mouse={isDown:!1,coords:{xPercent:50,yPercent:50,oldXPercent:50,oldYPercent:50,xDegree:0,yDegree:0,oldXDegree:0,oldYDegree:0,gradientOffsets:{x:0,y:0}},motionless:{counter:0,state:!1,timer:null},callbacks:{choose:function(A,t){e.selectedColor=e.currentColor,"undefined"==typeof t&&e.palette.addColor(e.selectedColor)},move:function(A){var t=$(this).width(),o=$(A.toElement).attr("class");if(o==e.currentFace)e.computeRotation(A.offsetX,A.offsetY,t);else{var i=$(A.toElement).css("background-position").split("px");e.mouse.coords.gradientOffsets.x=parseInt(i[0]),e.mouse.coords.gradientOffsets.y=parseInt(i[1]);var I;I="top"==o?e.context2d.getImageData(A.offsetX-e.mouse.coords.gradientOffsets.x,A.offsetY+e.mouse.coords.gradientOffsets.y/2,1,1):e.context2d.getImageData(A.offsetX-e.mouse.coords.gradientOffsets.x,A.offsetY+2*e.mouse.coords.gradientOffsets.y,1,1),e.currentColor=new r(I.data[0],I.data[1],I.data[2],e.currentColor.a),e.update()}e.mouse.isDown=1==A.buttons,e.mouse.isDown&&e.mouse.callbacks.choose(A,"notAddColor")}}},this.mouse.motionless.timer=setInterval(function(){if(e.mouse.coords.xPercent!=e.mouse.coords.oldXPercent)return e.mouse.coords.oldXPercent=e.mouse.coords.xPercent,void(e.mouse.motionless.counter=0);e.mouse.coords.oldXPercent==e.mouse.coords.xPercent&&e.mouse.motionless.counter++;var A=function(){return!e.mouse.isDown&&1==e.mouse.motionless.counter};e.mouse.motionless.state=A(),e.mouse.motionless.state&&e.canRotate&&(e.switchFace(),e.mouse.motionless.counter=0)},100),this.currentFace="left",this.currentColor={r:0,g:0,b:0,a:1},this.rgbMode=!1,this.canvas=document.createElement("canvas"),this.canvas.width=837,this.canvas.height=600,this.context2d=this.canvas.getContext("2d"),s?e.context2d.drawImage(I,0,0,837,600):I.onload=function(){e.context2d.drawImage(I,0,0,837,600)},this.graph={front:{angle:22.5,xl:"left",xr:"right","switch":{a:22.5,b:382.5}},left:{angle:112.5,xl:"back",xr:"front"},back:{angle:202.5,xl:"right",xr:"left"},right:{angle:292.5,"switch":{a:292.5,b:-67.5},xl:"front",xr:"back"}},this.switchFace(),$(e.element).find(".cube").mousemove(e.mouse.callbacks.move),$(e.element).find(".cube").click(e.mouse.callbacks.choose)};g.prototype.update=function(){var A=this.rgbMode?this.currentColor.toRGBA():this.currentColor.toHex();$(this.element).find(".color").html(A),$(this.element).css("border-color",A),this.opacitySlider.changeKnobColor(A),this.opacitySlider.changeLineColor(A)},g.prototype.rotate=function(A,e){$(this.element).find(".cube").css({transform:"rotateX("+e+"deg) rotateY("+A+"deg)"})},g.prototype.computeRotation=function(A,e,t){this.mouse.coords.xPercent=100*A/t,this.mouse.coords.yPercent=100*e/t,this.mouse.coords.oldXDegree=this.mouse.coords.xDegree,this.mouse.coords.oldYDegree=this.mouse.coords.yDegree;var o=this.graph[this.currentFace].angle;this.graph[this.currentFace].switchAngle?this.graph.switched||(o=this.graph[this.currentFace].switchAngle,this.graph.switched=!0):this.graph.switched=!1,this.mouse.coords.xDegree=o-45*this.mouse.coords.xPercent/100,this.mouse.coords.yDegree=-(22.5-45*this.mouse.coords.yPercent/100);var i=$(this.element).find("."+this.currentFace).css("background-position").split("px");this.mouse.coords.gradientOffsets={x:parseInt(i[0]),y:parseInt(i[1])};var I=this.context2d.getImageData(A-this.mouse.coords.gradientOffsets.x,e+this.mouse.coords.gradientOffsets.y/2,1,1);this.currentColor=new r(I.data[0],I.data[1],I.data[2],this.currentColor.a),this.update(),5<this.mouse.coords.xPercent&&this.mouse.coords.xPercent<95&&5<this.mouse.coords.yPercent&&this.mouse.coords.yPercent<95&&(this.rotate(this.mouse.coords.xDegree,this.mouse.coords.yDegree),this.canRotate=!1)},g.prototype.switchFace=function(){function A(){return i.mouse.isDown}function e(){r(),i.canRotate="xl"}function t(){r(),i.canRotate="xr"}function o(){clearInterval(s),s=null,i.canRotate=!1}var i=this;if(this.currentFace&&this.canRotate){if(this.graph[this.currentFace]["switch"]){var I=this.graph[this.currentFace][this.canRotate];this.graph[I]["switch"]&&(this.graph[I].angle=this.graph[I]["switch"].b)}var s=null,r=function(){null===s&&(s=setInterval(function(){clearInterval(s),A()?(s=null,r()):i.switchFace()},500))};$(i.element).find("."+i.graph[i.currentFace].xl).off("mouseenter",e),$(i.element).find("."+i.graph[i.currentFace].xl).off("mouseleave",o),$(i.element).find("."+i.graph[i.currentFace].xr).off("mouseenter",t),$(i.element).find("."+i.graph[i.currentFace].xr).off("mouseleave",o),i.currentFace=i.graph[i.currentFace][i.canRotate],$(i.element).find("."+i.graph[i.currentFace].xl).on("mouseenter",e),$(i.element).find("."+i.graph[i.currentFace].xl).on("mouseleave",o),$(i.element).find("."+i.graph[i.currentFace].xr).on("mouseenter",t),$(i.element).find("."+i.graph[i.currentFace].xr).on("mouseleave",o),i.canRotate=!1;var E=$(i.element).find(".cube").width();$(i.element).find(".cube").addClass("rotate");var n=setInterval(function(){clearInterval(n),$(i.element).find(".cube").removeClass("rotate"),i.graph[i.currentFace]["switch"]&&(i.graph[i.currentFace].angle=i.graph[i.currentFace]["switch"].a)},500);i.computeRotation(73,i.mouse.coords.yPercent*E/100,E),i.rotate(i.mouse.coords.xDegree,i.mouse.coords.yDegree)}},g.prototype.getColor=function(){var A=1==this.selectedColor.a?this.selectedColor.toHex():this.selectedColor.toRGBA();return console.log(A),A.toUpperCase()},g.prototype.copyColor=function(){A(this.getColor())},"undefined"==typeof window.CubicColorPicker&&(window.CubicColorPicker=g)}();